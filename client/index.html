<!DOCTYPE html>
<html lang="en">
    <head> 
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>KJCA | Kent Junior Chess Association</title>
        <link rel="icon" type="image/png" href="assets/logo.jpeg">
        <script src="https://cdn.tailwindcss.com"></script>
        <script type="module" src="js/components/Header.js"></script>
        <script type="module" src="js/components/Footer.js"></script>
        <style>
            /* Custom typography for news-style headlines */
            .news-headline { font-family: serif; line-height: 1.1; }
            /* Thin scrollbar style for all scrollable feeds */
            .sidebar-scroll::-webkit-scrollbar { width: 4px; }
            .sidebar-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
        </style>
    </head>  

    <body class="bg-[#f4f4f4] min-h-screen flex flex-col font-sans text-gray-900">
        <main-header></main-header>

        <section class="bg-white border-b">
            <div class="max-w-7xl mx-auto px-4 py-8 md:py-12">
                <h1 class="text-4xl md:text-6xl font-extrabold tracking-tighter text-slate-900 mb-2">Welcome to KJCA</h1>
                <p class="text-lg text-slate-600 max-w-2xl">The home of junior chess in Kent. Discover tournaments, world-class coaching, and a community for young players of all levels.</p>
            </div>
        </section>

        <main class="flex-grow max-w-7xl mx-auto w-full p-4 md:p-6">
            
            <div id="admin-controls" class="hidden mb-8 bg-white p-6 rounded-lg shadow-sm border-l-4 border-green-500 flex flex-col md:flex-row justify-between items-center gap-4">
                <div>
                    <h3 class="text-lg font-bold">Organizer Tools</h3>
                    <p class="text-sm text-gray-600">Manage the live schedule for Kent juniors.</p>
                </div>
                <div class="flex gap-3">
                    <button id="add-tournament-btn" class="bg-green-600 text-white px-5 py-2 rounded-md hover:bg-green-700 font-semibold transition shadow-sm">
                        + Add Tournament
                    </button>
                    <button id="add-training-btn" class="bg-blue-600 text-white px-5 py-2 rounded-md hover:bg-blue-700 font-semibold transition shadow-sm">
                        + Add Training
                    </button>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
                
                <div class="lg:col-span-9 space-y-12">
                    
                    <section>
                        <div class="flex items-center gap-2 mb-4">
                            <span class="w-3 h-3 bg-red-600 rounded-full animate-pulse"></span>
                            <h2 class="text-xs font-bold uppercase tracking-widest text-red-600">Next Major Event</h2>
                        </div>
                        <div id="featured-tournament">
                            <div class="animate-pulse bg-gray-200 h-96 rounded-xl"></div>
                        </div>
                    </section>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 border-t pt-8">
                        
                        <div>
                            <h3 class="text-2xl font-bold mb-6 border-b-2 border-slate-900 pb-2 inline-block uppercase tracking-tighter">More Tournaments</h3>
                            <div id="tournaments-list" class="sidebar-scroll overflow-y-auto h-[600px] space-y-6 pr-4">
                                <p class="text-gray-500 text-sm italic">Loading events...</p>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-2xl font-bold mb-6 border-b-2 border-slate-900 pb-2 inline-block uppercase tracking-tighter">Training Opportunities</h3>
                            <div id="trainings-list" class="sidebar-scroll overflow-y-auto h-[500px] space-y-6 pr-4">
                                <p class="text-gray-500 text-sm italic">Searching for sessions...</p>
                            </div>
                        </div>
                    </div>
                </div>

                <aside class="lg:col-span-3 space-y-6">
                    <h2 class="text-xl font-black uppercase italic tracking-tighter border-b-4 border-slate-800 pb-1">TWIC News Feed</h2>
                    <div id="chess-news-feed" class="sidebar-scroll overflow-y-auto max-h-[800px] space-y-4 pr-2">
                        <p class="text-sm text-gray-500 italic">Fetching news...</p>
                    </div>
                </aside>
            </div>
        </main>

        <div id="post-modal" class="hidden fixed inset-0 bg-slate-900/80 backdrop-blur-md flex items-center justify-center z-50 p-4">
            <div class="bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-300">
                <div class="bg-slate-800 p-6 text-white flex justify-between items-center">
                    <h2 id="modal-title" class="text-2xl font-bold">New Post</h2>
                    <button id="close-modal-x" class="text-slate-400 hover:text-white">âœ•</button>
                </div>
                <form id="post-form" class="p-8 space-y-4">
                    <input type="hidden" id="p-type" value="tournaments"> 
                    
                    <div>
                        <label class="block text-sm font-bold text-slate-700 mb-1">Title</label>
                        <input type="text" id="p-title" class="w-full p-3 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                    </div>
                    <div id="location-field" class="hidden">
                        <label class="block text-sm font-bold text-slate-700 mb-1">Location</label>
                        <input type="text" id="p-location" class="w-full p-3 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="e.g. Bromley, Online">
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-slate-700 mb-1">Description</label>
                        <textarea id="p-desc" class="w-full p-3 bg-slate-50 border border-slate-200 rounded-lg" rows="3"></textarea>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-bold text-slate-700 mb-1">Date</label>
                            <input type="date" id="p-date" class="w-full p-3 bg-slate-50 border border-slate-200 rounded-lg" required>
                        </div>
                        <div>
                            <label class="block text-sm font-bold text-slate-700 mb-1">Image</label>
                            <input type="file" id="p-image-file" accept="image/*" class="text-xs mt-2">
                        </div>
                    </div>
                    <div class="flex flex-col gap-3 pt-4">
                        <button type="submit" id="submit-btn" class="w-full bg-blue-600 text-white py-4 rounded-xl font-black text-lg hover:bg-blue-700 transition uppercase shadow-lg tracking-wider">Publish to Live Feed</button>
                        <button type="button" id="close-modal" class="text-slate-400 font-medium hover:text-slate-600 text-sm">Cancel</button>
                    </div>
                </form>
            </div>
        </div>

        <main-footer></main-footer>

        <script type="module" src="js/script.js"></script>
    </body>
</html>